# [BOJ 1202 - 보석 도둑](https://www.acmicpc.net/problem/1202)


### 문제
보석점에 보석이 총 N개가 있고 각 보석은 무게 Mi와 가치 Vi를 가지고 있다. 가방이 K개 있고 각 가방에 담을 수 있는 최대 무게가 Ci이며, 각 가방에는 단 한개의 보석만 담을 수 있다고 할 때, 훔칠 수 있는 보석들의 최대 가치를 구해라.

### 입력
첫째 줄에 N(보석 수), K(가방 수)

N개의 줄에 Mi(보석 무게) Vi(보석 가치)

K개의 줄에 Ci(가방에 담을 수 있는 무게)

### 풀이
단순히 모든 가방 무게에 대해 모든 보석을 탐색하면 O(KN)으로 300,000 * 300,000의 경우 90,000,000,000으로 시간 초과가 발생한다. 먼저 이를 개선하는 첫 번째 방법은 정렬을 하는 것이다. 무게 순으로 보석과 가방을 정렬했을 때, 가방의 무게 한계보다 보석의 무게가 하나라도 더 큰게 나온 경우 그 뒤의 모든 보석은 가방의 한계를 넘어서는 무게이기 때문에 탐색할 필요가 없다.

정렬의 경우 시간 복잡도:
- 보석
  - 삽입&정렬: O(N log N)
- 가방
  - 삽입: O(K)
  - 정렬: O(K log K)

하지만 이렇게 정렬을 하더라도, 최악의 경우에는 보석 배열의 모든 요소를 순회할 수도 있다. 따라서 각 가방에 대해 보석 배열을 처음부터 끝까지 확인하는 경우, 이 과정의 시간 복잡도 또한 O(KN)이다. 이를 해결하기 위해 기존에 검사한 보석들을 따로 빼서 최대힙으로 관리하고, 새로 탐색할 가방에 담을 수 있는 보석이 나오지 않을 때까지 관리하던 최대힙에 추가를 해준다. 이후 가방에 담을 수 없는 보석이 나왔을 경우 관리하던 최대힙의 최상단을 pop 하면 그 것이 해당 가방에 들어가면서 가장 가치가 높은 보석이 된다. 이 때의 최악의 시간복잡도는 모든 보석이 각 가방에 대해 검토될 수 있지만, 최대힙을 이용하기 때문에 검토는 O(log N)이 걸린다.